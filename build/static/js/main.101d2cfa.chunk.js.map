{"version":3,"sources":["components/blogPost/BlogPost.js","components/Login.js","components/blogPostForm/BlogPostForm.js","components/Notification.js","components/Toggleable.js","components/Header.js","components/FeaturedPost.js","services/login.js","services/blog.js","App.js","index.js"],"names":["useStyles","makeStyles","theme","root","width","marginBottom","heading","fontSize","typography","pxToRem","fontWeight","fontWeightRegular","details","flexDirection","marginRight","BlogPost","props","classes","post","likePost","deletePost","ExpansionPanel","className","ExpansionPanelSummary","expandIcon","ExpandMore","Typography","variant","title","author","ExpansionPanelDetails","gutterBottom","description","likes","Button","size","color","startIcon","ThumbUp","onClick","Delete","user","name","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","alignItems","avatar","secondary","main","form","marginTop","submit","Login","login","useState","username","setUsername","password","setPassword","Grid","container","CssBaseline","item","xs","sm","md","component","Paper","elevation","square","Avatar","noValidate","onSubmit","e","preventDefault","TextField","required","fullWidth","label","id","autoFocus","autoComplete","value","onChange","target","BlogPostForm","createPost","setTitle","setAuthor","url","setUrl","style","Notification","message","Alert","severity","Toggleable","React","forwardRef","ref","visibility","setVisibility","showWhenVisible","hideWhenVisible","toggleVisibility","useImperativeHandle","buttonLabel","children","displayName","toolbar","borderBottom","divider","toolbarTitle","flex","Header","handleLogout","Fragment","Toolbar","align","noWrap","card","cardDetails","cardMedia","FeaturedPost","CardActionArea","href","Card","CardContent","paragraph","Link","CardMedia","src","bookImageUrl","credentials","a","axios","resp","data","authorizationStr","config","token","headers","Authorization","get","then","response","updatedLikes","updatedPost","put","delete","FEATURED_POST","App","blogFormRef","createRef","setUser","blogPosts","setBlogPosts","errorMessage","setErrorMessage","successMessage","setSuccessMessage","useEffect","JSON","parse","window","localStorage","getItem","blogService","posts","loginService","setItem","stringify","error","setTimeout","current","createdPost","updatedPosts","map","postToBeDeleted","confirm","filter","Container","removeItem","justifyContent","sortedBlogPosts","sort","post1","post2","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.101d2cfa.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n  ExpansionPanel,\r\n  ExpansionPanelSummary,\r\n  ExpansionPanelDetails,\r\n  ListItem,\r\n  Button,\r\n  Typography,\r\n} from '@material-ui/core';\r\n\r\nimport {\r\n  ExpandMore,\r\n  ThumbUp,\r\n  Delete\r\n} from '@material-ui/icons';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n    marginBottom: '1.25rem'\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular\r\n  },\r\n  details: {\r\n    flexDirection: 'column'\r\n  },\r\n  marginRight: {\r\n    marginRight: '1rem'\r\n  },\r\n  marginBottom: {\r\n    marginBottom: '1.5rem'\r\n  }\r\n}));\r\n\r\n\r\nconst BlogPost = (props) => {\r\n\r\n  const classes = useStyles();\r\n\r\n  const {\r\n    post,\r\n    likePost,\r\n    deletePost\r\n  } = props;\r\n\r\n\r\n  const onClickLike = () => likePost(post);\r\n  const onClickDelete = () => deletePost(post);\r\n\r\n  return (\r\n    <>\r\n      <ExpansionPanel className={classes.root}>\r\n        <ExpansionPanelSummary expandIcon={<ExpandMore />}>\r\n          <Typography variant=\"subtitle2\">\r\n            {`${post.title} by ${post.author}`}\r\n          </Typography>\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails className={classes.details}>\r\n          <Typography variant=\"subtitle2\" gutterBottom>\r\n            Description\r\n            </Typography>\r\n\r\n          <Typography variant=\"caption\" className={classes.marginBottom}>\r\n            {post.description}\r\n          </Typography>\r\n\r\n          <Typography variant=\"subtitle2\" className={classes.marginBottom}>\r\n            <span className={classes.marginRight}>{post.likes}</span>\r\n            <Button className={classes.marginRight}\r\n              size=\"small\"\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              startIcon={<ThumbUp />}\r\n              onClick={onClickLike}>\r\n              Like\r\n              </Button>\r\n\r\n            <Button\r\n              size=\"small\"\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              startIcon={<Delete />}\r\n              onClick={onClickDelete}>\r\n              Delete recommendation\r\n              </Button>\r\n          </Typography>\r\n\r\n          <Typography variant=\"overline\">\r\n            Book recommended by {post.user.name}\r\n          </Typography>\r\n\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BlogPost;\r\n\r\n\r\n","import React, { useState } from 'react';\r\n\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MenuBookTwoToneIcon from '@material-ui/icons/MenuBookTwoTone';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: '100vh',\r\n  },\r\n  image: {\r\n    backgroundImage: 'url(https://images.unsplash.com/photo-1533756102515-155e3863ee1c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1868&q=80)',\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundColor:\r\n      theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'center',\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(8, 4),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nconst Login = ({ login }) => {\r\n  const classes = useStyles();\r\n\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const handleUsernameChange = e => setUsername(e.target.value);\r\n  const handlePasswordChange = e => setPassword(e.target.value);\r\n\r\n  const onLogin = e => {\r\n    e.preventDefault();\r\n    const credentials = { username, password };\r\n    login(credentials);\r\n    setUsername('');\r\n    setPassword('');\r\n  };\r\n\r\n  return (\r\n    <Grid container className={classes.root}>\r\n      <CssBaseline />\r\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <MenuBookTwoToneIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Book Vault\r\n          </Typography>\r\n          <form className={classes.form} noValidate onSubmit={onLogin}>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              label=\"Username\"\r\n              name=\"username\"\r\n              id=\"usernaame\"\r\n              autoFocus\r\n              autoComplete=\"off\"\r\n              value={username}\r\n              onChange={handleUsernameChange}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              value={password}\r\n              onChange={handlePasswordChange}\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              Sign In\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Login;","import React, { useState } from 'react';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\n\r\nconst BlogPostForm = ({ createPost }) => {\r\n  const [title, setTitle] = useState('');\r\n  const [author, setAuthor] = useState('');\r\n  const [url, setUrl] = useState('');\r\n\r\n  const handleTitleChange = e => setTitle(e.target.value);\r\n  const handleAuthorChange = e => setAuthor(e.target.value);\r\n  const handleUrlChange = e => setUrl(e.target.value);\r\n\r\n  const submitForm = e => {\r\n    e.preventDefault();\r\n    const postObject = {\r\n      title,\r\n      author,\r\n      url\r\n    };\r\n\r\n    createPost(postObject);\r\n\r\n    setTitle('');\r\n    setAuthor('');\r\n    setUrl('');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        Recommend a book\r\n      </Typography>\r\n      <Grid>\r\n        <form onSubmit={submitForm}>\r\n          <Grid>\r\n            <TextField\r\n              required\r\n              name=\"title\"\r\n              label=\"Title\"\r\n              value={title}\r\n              onChange={handleTitleChange}\r\n              autoComplete=\"off\"\r\n            />\r\n          </Grid>\r\n          <TextField\r\n            required\r\n            name=\"author\"\r\n            label=\"Author\"\r\n            value={author}\r\n            onChange={handleAuthorChange}\r\n            autoComplete=\"off\"\r\n          />\r\n          <Grid>\r\n            <TextField\r\n              name=\"url\"\r\n              label=\"Url\"\r\n              value={url}\r\n              onChange={handleUrlChange}\r\n              autoComplete=\"off\"\r\n            />\r\n          </Grid>\r\n        </form>\r\n      </Grid>\r\n      <Grid style={{ margin: '1rem 0' }}>\r\n        <Button\r\n          type=\"submit\"\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          startIcon={<SaveIcon />}\r\n        >\r\n          Save\r\n      </Button>\r\n      </Grid>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BlogPostForm;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function Notification({ message, type }) {\r\n  const classes = useStyles();\r\n  if (!message) {\r\n    return null;\r\n  }\r\n\r\n  if (type === 'error') {\r\n    return (\r\n      <div className={classes.root}>\r\n        <Alert severity=\"error\">{message}</Alert>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (type === 'success') {\r\n    return (\r\n      <div className={classes.root}>\r\n        <Alert severity=\"success\">{message}</Alert>\r\n      </div>\r\n    );\r\n  }\r\n}","import React, { useState, useImperativeHandle } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\n// forwardRef attaches the ref from App.js to the mounted Toggleable react element\r\n// ie ref.current points to the Toggleable react element\r\nconst Toggleable = React.forwardRef((props, ref) => {\r\n\r\n  Toggleable.propTypes = {\r\n    buttonLabel: PropTypes.string.isRequired\r\n  };\r\n\r\n  const [visibility, setVisibility] = useState(false);\r\n\r\n  const showWhenVisible = { display: visibility ? '' : 'none' };\r\n  const hideWhenVisible = { display: visibility ? 'none' : '' };\r\n  const toggleVisibility = () => setVisibility(!visibility);\r\n\r\n  // customizes the instance value that is exposed to the parent\r\n  // ref.current in the parent can now access the toggleVisibility function\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      toggleVisibility\r\n    };\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <div style={hideWhenVisible}>\r\n        <Button variant=\"outlined\" size=\"small\" onClick={toggleVisibility}>\r\n          {props.buttonLabel}\r\n        </Button>\r\n      </div>\r\n      <div style={showWhenVisible}>\r\n        {props.children}\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          size=\"small\"\r\n          startIcon={<CancelIcon />}\r\n          onClick={toggleVisibility}\r\n        >\r\n          Cancel\r\n      </Button>\r\n      </div>\r\n    </>\r\n  );\r\n});\r\n\r\nToggleable.displayName = 'Toggleable';\r\n\r\nexport default Toggleable;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  toolbar: {\r\n    borderBottom: `1px solid ${theme.palette.divider}`,\r\n  },\r\n  toolbarTitle: {\r\n    flex: 1,\r\n  }\r\n}));\r\n\r\nconst Header = (props) => {\r\n  const classes = useStyles();\r\n  const { user, handleLogout } = props;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Toolbar className={classes.toolbar}>\r\n        <Typography\r\n          component=\"h2\"\r\n          variant=\"h5\"\r\n          color=\"inherit\"\r\n          align=\"center\"\r\n          noWrap\r\n          className={classes.toolbarTitle}\r\n        >\r\n          {user.name}&apos;s Book Vault\r\n        </Typography>\r\n        <Button variant=\"outlined\" size=\"small\" onClick={handleLogout}>\r\n          Logout\r\n        </Button>\r\n      </Toolbar>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Link from '@material-ui/core/Link';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  card: {\r\n    display: 'flex',\r\n    margin: '1.5rem 0',\r\n    backgroundColor: 'rgba(225, 232, 240, 0.25)'\r\n  },\r\n  cardDetails: {\r\n    flex: 1,\r\n  },\r\n  cardMedia: {\r\n    margin: '.75rem',\r\n    width: '8rem',\r\n  },\r\n}));\r\n\r\nexport default function FeaturedPost(props) {\r\n  const classes = useStyles();\r\n  const { post } = props;\r\n  return (\r\n    <Grid>\r\n      <CardActionArea component=\"a\" href={post.url} target=\"_blank\">\r\n        <Card className={classes.card}>\r\n          <CardContent>\r\n            <Typography component=\"h2\" variant=\"h5\" gutterBottom>\r\n              {post.title}\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n              by {post.author}\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" paragraph>\r\n              {post.description}\r\n            </Typography>\r\n            <Link href={post.url} target=\"_blank\" variant=\"subtitle1\">\r\n              Continue reading...\r\n            </Link>\r\n          </CardContent>\r\n          <CardMedia\r\n            component='img'\r\n            className={classes.cardMedia}\r\n            src={post.bookImageUrl}\r\n          />\r\n        </Card>\r\n      </CardActionArea>\r\n    </Grid>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nconst BASE_URL = '/api/login';\r\n\r\nconst login = async credentials => {\r\n  // any resp that is in thr 400/500 range will be treated as an error\r\n  // error will be propogated to the caller, in this case login function in App.js component.\r\n  const resp = await axios.post(BASE_URL, credentials);\r\n  return resp.data;\r\n  // refer to https://stackoverflow.com/a/51768316 for axios error handling\r\n};\r\n\r\nexport default { login };","import axios from 'axios';\r\n\r\nconst BASE_URL = '/api';\r\n\r\nlet authorizationStr = null;\r\nlet config = null;\r\n\r\nconst setAuthorizationStr = token => {\r\n  if (token === null) {\r\n    authorizationStr = null;\r\n  } else {\r\n    authorizationStr = `Bearer ${token}`;\r\n  }\r\n  config = {\r\n    headers: { Authorization: authorizationStr }\r\n  };\r\n};\r\n\r\nconst getAllPosts = () => {\r\n  const result = axios.get(`${BASE_URL}/blogposts`);\r\n  return result.then(response => response.data);\r\n};\r\n\r\nconst getAllPostsBy = user => {\r\n  const username = user.username;\r\n  const result = axios.get(`${BASE_URL}/blogposts/${username}`, config);\r\n  return result.then(response => response.data);\r\n};\r\n\r\nconst createPost = post => {\r\n  const result = axios.post(`${BASE_URL}/blog`, post, config);\r\n  return result.then(response => response.data);\r\n};\r\n\r\nconst likePost = post => {\r\n  const updatedLikes = post.likes + 1;\r\n  const updatedPost = { ...post, likes: updatedLikes };\r\n  const result = axios.put(`${BASE_URL}/blogposts/${post.id}`, updatedPost);\r\n  return result.then(response => response.data);\r\n};\r\n\r\nconst deletePost = post => {\r\n  const result = axios.delete(`${BASE_URL}/blogposts/${post.id}`, config);\r\n  return result.then(response => response.data);\r\n};\r\n\r\nexport default {\r\n  setAuthorizationStr,\r\n  getAllPosts,\r\n  getAllPostsBy,\r\n  createPost,\r\n  likePost,\r\n  deletePost\r\n};","import React, { useState, useEffect } from 'react';\r\n\r\nimport Container from '@material-ui/core/Container';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport BlogPost from './components/blogPost/BlogPost';\r\nimport Login from './components/Login';\r\nimport BlogPostForm from './components/blogPostForm/BlogPostForm';\r\nimport Notification from './components/Notification';\r\nimport Toggleable from './components/Toggleable';\r\nimport Header from './components/Header';\r\nimport FeaturedPost from './components/FeaturedPost';\r\n\r\nimport loginService from './services/login';\r\nimport blogService from './services/blog';\r\n\r\nconst FEATURED_POST = {\r\n  title: 'JavaScript: The Good Parts',\r\n  author: 'John Duckett',\r\n  description: 'This authoritative book scrapes away these bad features to reveal a subset of JavaScript that\\'s more reliable, readable, and maintainable than the language as a whole--a subset you can use to create truly extensible and efficient code.',\r\n  url: 'https://www.goodreads.com/book/show/2998152-javascript',\r\n  bookImageUrl: 'https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1328834793l/2998152.jpg'\r\n};\r\n\r\n\r\nconst App = () => {\r\n  // allows the parent to access a DOM node or React element outside the render flow\r\n  // during the render phase, you modify a child with new props\r\n  const blogFormRef = React.createRef();\r\n\r\n  const [user, setUser] = useState(null); // user is the login resp obj with token, username & name properties\r\n  const [blogPosts, setBlogPosts] = useState([]);\r\n\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n  const [successMessage, setSuccessMessage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const user = JSON.parse(window.localStorage.getItem('user'));\r\n    if (user) {\r\n      blogService.setAuthorizationStr(user.token);\r\n      setUser(user);\r\n    }\r\n  }, []); // runs after first render only\r\n\r\n  useEffect(() => {\r\n    if (user === null) return;\r\n    blogService.setAuthorizationStr(user.token);\r\n    blogService\r\n      .getAllPosts()\r\n      .then(posts => setBlogPosts(posts));\r\n  }, [user]); // runs after first render and every time user is updated.\r\n\r\n\r\n  const login = async credentials => {\r\n    try {\r\n      const user = await loginService.login(credentials);\r\n      window.localStorage.setItem('user', JSON.stringify(user));\r\n      setUser(user);\r\n    } catch (exception) {\r\n      setErrorMessage(exception.response.data.error);\r\n      setTimeout(() => {\r\n        setErrorMessage(null);\r\n      }, 4000);\r\n    }\r\n  };\r\n\r\n  const logout = e => {\r\n    e.preventDefault();\r\n    localStorage.removeItem('user');\r\n    blogService.setAuthorizationStr(null);\r\n    setBlogPosts([]);\r\n    setUser(null);\r\n  };\r\n\r\n  const createPost = async post => {\r\n    // cannot be placed after setBlogPosts\r\n    // because the toggleable react element will have been updated\r\n    // and the blogFormRef will point to a new react element.\r\n    blogFormRef.current.toggleVisibility();\r\n    const createdPost = await blogService.createPost(post);\r\n    setBlogPosts([...blogPosts, createdPost]);\r\n\r\n    setSuccessMessage(`${createdPost.title} was successfully added`);\r\n    setTimeout(() => {\r\n      setSuccessMessage(null);\r\n    }, 4000);\r\n  };\r\n\r\n  const likePost = async post => {\r\n    const updatedPost = await blogService.likePost(post);\r\n    const updatedPosts = blogPosts.map(post => {\r\n      if (post.id === updatedPost.id) return updatedPost;\r\n      else return post;\r\n    });\r\n    setBlogPosts(updatedPosts);\r\n  };\r\n\r\n  const deletePost = async postToBeDeleted => {\r\n    try {\r\n      const isToBeDeleted = window.confirm(`${postToBeDeleted.title} will be deleted!`);\r\n      if (isToBeDeleted) {\r\n        await blogService.deletePost(postToBeDeleted);\r\n        const updatedPosts = blogPosts.filter(post => post.id !== postToBeDeleted.id);\r\n        setBlogPosts(updatedPosts);\r\n      }\r\n    } catch (exception) {\r\n      setErrorMessage(exception.response.data.error); // data is the actual response object sent\r\n      setTimeout(() => {\r\n        setErrorMessage(null);\r\n      }, 4000);\r\n    }\r\n  };\r\n\r\n  const sortBlogPosts = () => {\r\n    const sortedBlogPosts = [...blogPosts.sort((post1, post2) => post2.likes - post1.likes)];\r\n    setBlogPosts(sortedBlogPosts);\r\n  };\r\n\r\n  if (user === null) {\r\n    return (\r\n      <Container>\r\n        <div>\r\n          <Notification message={errorMessage} type='error' />\r\n        </div>\r\n        <Login login={login} />\r\n      </Container>\r\n    );\r\n  } else {\r\n    return (\r\n      <Container>\r\n\r\n        <Header\r\n          user={user}\r\n          handleLogout={logout}\r\n        />\r\n        <div>\r\n          <Notification message={successMessage} type='success' />\r\n        </div>\r\n        <div>\r\n          <Notification message={errorMessage} type='error' />\r\n        </div>\r\n\r\n        <FeaturedPost post={FEATURED_POST} />\r\n\r\n        <Typography variant=\"h4\">\r\n          Reads\r\n        </Typography>\r\n\r\n        <div style={{ display: 'flex', justifyContent: 'flex-end', marginBottom: '0.75rem' }}>\r\n          <Button\r\n            variant=\"outlined\" size=\"small\" onClick={sortBlogPosts}>\r\n            Sort recommendations\r\n            </Button>\r\n        </div>\r\n\r\n\r\n\r\n        {blogPosts.map(post => (\r\n          <BlogPost\r\n            post={post}\r\n            likePost={likePost}\r\n            deletePost={deletePost}\r\n            key={post.id}\r\n          />\r\n        ))}\r\n\r\n\r\n        <div>\r\n          <Toggleable buttonLabel=\"Recommend a book\" ref={blogFormRef}>\r\n            <BlogPostForm createPost={createPost} />\r\n          </Toggleable>\r\n        </div>\r\n      </Container >\r\n    );\r\n  }\r\n};\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}